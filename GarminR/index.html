<!DOCTYPE doctype html>

<html lang="en">
<head><title>Parsing and analysis of GPX files in R</title>
<meta charset="utf-8">

<meta content="" name="description"/>
<link href="../CLstyle.css" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
</link></link></meta></head>
<body><header><h1>Parsing and analysis of GPX files in R</h1><time datetime="2011-05-14T23:38:00Z">23:38 Saturday 14th May 2011</time></header><article>As I mentioned in a <a href="http://cnr.lwlss.net/MoreData">previous post</a> I've been working on ways to parse the .gpx XML files which are generated by my Garmin Forerunner so that I can analyse the captured data more carefully.  The online data visualisation <a href="http://connect.garmin.com/activity/61755378">tool</a> provided by Garmin is good, but there are a few flaws.  It's not always possible to scale data nicely, it's not possible to compare between datasets, and a few other things.  Reading the raw data into <a href="http://www.r-project.org/">R</a> would allow all kinds of analysis.
<br/>
<br/><a href="http://www.r-project.org/">R</a> is a very powerful, flexible, open-source statistical programming language which is really good for parsing and analysing datasets.
<br/>
<br/>I've written some <a href="http://lwlss.net/GarminReports/GarminFunctions.R">R code</a> to parse .gpx files, analyze the data and generate .pdf reports.  You just put the script into a directory, together with the .gpx file to be analyzed (which you can access by clicking the export button on the page for any of these <a href="http://connect.garmin.com/explore?owner=conorlawless">activities</a> for example), add the filename to the top of the script, and run it.  A .pdf report like <a href="http://lwlss.net/GarminReports/Fields of Athenry 10k 2011 activity_61755378.pdf">this one</a> is generated.
<br/>
<br/>The reports contain several types of plot, including the following four types:
<br/>
<br/><img alt="Elevation plot" src="http://lwlss.net/GarminReports/Elevation.png">
<br/>Elevation varying along route followed.  Colour indicates elevation, x and y coordinates represent distance from the starting point in a northerly and easterly direction respectively.
<br/>
<br/><img alt="Heart rate plot" src="http://lwlss.net/GarminReports/HeartRate.png">
<br/>Heart rate varying along route followed.  Colour indicates heart rate, x and y coordinates represent distance from the starting point in a northerly and easterly direction respectively.
<br/>
<br/><img alt="Pace plot" src="http://lwlss.net/GarminReports/Pace.png">
<br/>Pace varying along route followed.  Colour indicates pace, x and y coordinates represent distance from the starting point in a northerly and easterly direction respectively.
<br/>
<br/><img alt="Four different performance statistics plots" src="http://lwlss.net/GarminReports/Stats.png">
<br/>Elevation, heart rate, speed and pace varying with distance covered along route.
<br/>
<br/>The <a href="http://lwlss.net/GarminReports/GarminFunctions.R">R code</a> is effective but untidy.  I had intended to write it nicely into S3 classes or even an R package, as I think that others might be interested in using it, but I have run out of steam a bit.  If anyone is interested in it, let me know as this would give me some motivation!
<br/>
<br/>Here are some other reports I've generated.  The first four runs are along essentially the same route and are comparable.
<br/>
<br/><ul>
<br/><li><a href="http://lwlss.net/GarminReports/ICaMB Route activity_78956453.pdf">A run with Peter</a>
<br/><li><a href="http://lwlss.net/GarminReports/ICaMB route activity_76715959.pdf">A run with Peter</a>
<br/><li><a href="http://lwlss.net/GarminReports/ICaMB Route activity_80356429.pdf">A run with Peter</a>
<br/><li><a href="http://lwlss.net/GarminReports/ICaMB Route (Hills) activity_84915832.pdf">A run with Peter and David</a>
<br/><li><a href="http://lwlss.net/GarminReports/Fields of Athenry 10k 2011 activity_61755378.pdf">A 10k race</a>
<br/><li><a href="http://lwlss.net/GarminReports/Short Town Moor Run activity_65420517.pdf">A short run on my own</a>
<br/><li><a href="http://lwlss.net/GarminReports/Long Town Moor Route activity_81011085.pdf">A longer run on my own</a>
<br/><li><a href="http://lwlss.net/GarminReports/Cahertubber Divellys Lane activity_61378123.pdf">A run before the race</a>
<br/><li><a href="http://lwlss.net/GarminReports/Squash, a rest and some sprints activity_72768563.pdf">Squash with Cesar and some sprints - to compare difficulty of squash and running</a>
<br/></li></li></li></li></li></li></li></li></li></ul>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/></img></img></img></img></article></body>
</html>